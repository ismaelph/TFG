<div class="max-w-5xl mx-auto px-4">
  <h2 class="text-2xl font-bold text-primary mb-6 flex items-center gap-2">
    <i class="bi bi-box-seam text-primary text-2xl"></i>
    Mi Inventario Personal
  </h2>

  <!-- Tabla de productos -->
  <app-table *ngIf="productosPaginados && productosPaginados.length">
    <thead>
      <tr>
        <th>Imagen</th>
        <th>Nombre</th>
        <th>Cantidad</th>
        <th>Categoría</th>
        <th>Proveedor</th>
        <th>Ubicación</th>
        <th class="text-center">Acciones</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let p of productosPaginados">
        <td>
          <img
            *ngIf="p.imagenUrl"
            [src]="p.imagenUrl"
            alt="imagen"
            class="w-12 h-12 object-cover rounded border" />
          <span *ngIf="!p.imagenUrl" class="text-xs italic text-gray-400">Sin imagen</span>
        </td>
        <td class="font-semibold">{{ p.nombre }}</td>
        <td>{{ p.cantidad }}</td>
        <td>{{ p.categoriaNombre }}</td>
        <td>{{ p.proveedorNombre }}</td>
        <td>{{ p.ubicacion || 'Sin ubicación' }}</td>
        <td class="text-center">
          <button
            class="text-red-600 hover:text-red-800 text-sm underline"
            (click)="eliminarProducto(productos.indexOf(p))">
            Eliminar
          </button>
        </td>
      </tr>
    </tbody>
  </app-table>

  <!-- Si no hay productos -->
  <div *ngIf="productos.length === 0" class="text-center text-sm text-gray-500 mt-10">
    <i class="bi bi-emoji-neutral text-xl mb-2 block"></i>
    No tienes productos asignados aún.
  </div>

  <!-- Paginador -->
  <div class="mt-6 flex justify-center" *ngIf="productos.length > pageSize">
    <app-paginator
      [total]="productos.length"
      [pageSize]="pageSize"
      [currentPage]="paginaActual"
      (pageChange)="cambiarPagina($event)">
    </app-paginator>
  </div>
</div>
