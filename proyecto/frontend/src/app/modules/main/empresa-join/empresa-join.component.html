<div class="max-w-3xl mx-auto p-6 bg-white rounded-xl shadow fade-slide-in">
  <h2 class="text-2xl font-bold text-primary mb-6">Unirse a una empresa</h2>

  <div *ngIf="empresas.length === 0" class="text-secondary-light text-center">
    No hay empresas disponibles.
  </div>

  <div class="space-y-4">
    <div *ngFor="let empresa of empresas" class="border p-4 rounded-xl shadow-sm">
      <h3 class="text-lg font-semibold text-primary">{{ empresa.nombre }}</h3>

      <div *ngIf="mostrandoClave !== empresa.id">
        <button (click)="mostrarInput(empresa.id!)"
                class="mt-3 px-4 py-2 text-sm bg-accent text-white rounded hover:bg-accent-dark transition">
          Unirse
        </button>
      </div>

      <div *ngIf="mostrandoClave === empresa.id" class="mt-3 space-y-2">
        <input [(ngModel)]="claves[empresa.id!]"
               placeholder="Clave de acceso"
               type="password"
               class="w-full p-2 border rounded-md focus:outline-none focus:ring-accent focus:border-accent" />

        <div class="flex justify-end gap-2">
          <button (click)="mostrandoClave = null"
                  class="px-3 py-1 bg-secondary-light text-white rounded hover:bg-secondary transition text-sm">
            Cancelar
          </button>
          <button (click)="unirse(empresa.id!)"
                  class="px-3 py-1 bg-accent text-white rounded hover:bg-accent-dark transition text-sm">
            Confirmar
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
