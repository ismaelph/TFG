<!-- Fondo oscuro que cierra el modal -->
<div class="fixed inset-0 bg-black bg-opacity-30 z-40" (click)="cerrarModal()"></div>

<!-- Panel lateral derecho -->
<div class="fixed top-0 right-0 w-96 h-full bg-white shadow-lg z-50 flex flex-col">

  <!-- Encabezado -->
  <div class="flex items-center justify-between px-6 py-4 border-b">
    <h2 class="text-lg font-bold text-primary">ðŸ”” Notificaciones</h2>
    <button class="text-gray-600 hover:text-red-500 text-xl" (click)="cerrarModal()">
      <i class="bi bi-x-lg"></i>
    </button>
  </div>

  <!-- Contenido -->
  <div class="flex-1 overflow-y-auto p-4">
    <div *ngIf="solicitudes.length === 0" class="text-center text-gray-500 text-sm mt-10">
      No hay notificaciones nuevas.
    </div>

    <!-- Lista de notificaciones -->
    <div *ngFor="let noti of solicitudesPaginadas" class="mb-4 border-b pb-3">

      <p class="text-sm font-semibold text-gray-600">
        ðŸ”” {{ getNombreProducto(noti) }}
      </p>

      <p class="text-sm font-semibold text-gray-600">
        ðŸ‘¤ {{ getNombreUsuario(noti) }}
      </p>

      <p class="text-sm font-semibold text-gray-600">
        ðŸ“¦ Cantidad: {{ getCantidad(noti) }}
      </p>

      <p class="text-sm font-semibold text-gray-600">
        ðŸ•’ {{ noti.fechaSolicitud | date:'short' }}
      </p>

      <p class="text-xs italic text-secondary">
        Estado: {{ noti.estado }}
      </p>

      <div class="flex justify-end gap-2 mt-2">
        <button
          class="px-3 py-1 text-xs bg-green-600 text-white rounded hover:bg-green-700"
          (click)="aceptar(noti)">
          Aceptar
        </button>
        <button
          class="px-3 py-1 text-xs bg-red-600 text-white rounded hover:bg-red-700"
          (click)="rechazar(noti)">
          Rechazar
        </button>
      </div>
    </div>
  </div>

  <!-- Paginador -->
  <div *ngIf="solicitudes.length > elementosPorPagina" class="p-4 border-t">
    <app-paginator
      [total]="solicitudes.length"
      [pageSize]="elementosPorPagina"
      [currentPage]="paginaActual"
      (pageChange)="cambiarPagina($event)">
    </app-paginator>
  </div>
</div>
